<!DOCTYPE html>
<html class="no-js" lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>InsertAfter : Conventions de nommage des bases de données</title>
  <meta name="description" content="Depuis que j&#39;ai découvert les bases de données avec MySQL, je n&#39;ai pas cessé de m&#39;en servir, tant et si bien que j&#39;ai fini par définir une convention de nommage.">
  <link rel="bookmark" href="https://insertafter.com/fr/blog/nommenclature_table_sql_base.html" />
  <link rel="icon" type="image/png" href="/images/favicon.png" />
  <meta name="robots" content="index,follow">
  <link rel="stylesheet" href="/css/main.css">
  <link href='https://fonts.googleapis.com/css?family=PT+Sans:400,700' rel='stylesheet' type='text/css'>
  
</head>
<body class="ia-standalone">
  <!--[if lt IE 7]>
  <script>document.location.href=http://browsehappy.com;</script>
  <![endif]-->
  <header class="ia-header">
    <div class="ia-header__title">
      <h1><a href="/fr/index.html" title="Retour à l&#39;accueil"
        class="ia-logo">
        <img src="/images/logo.svg" alt="Logo Insert After" />
      </a></h1>
    </div>
  </header>
  <nav class="ia-languages">
    <a class="ia-flag ia-flag--fr" href="/fr/index.html"
      title="Retour à l&#39;accueil">
      <span>Accueil</span>
    </a>
    <a class="ia-flag ia-flag--en" href="/en/index.html"
      title="Back to home">
      <span>Home</span>
    </a>
  </nav>

  <nav class="ia-menu">
    <ul class="ia-menu__body">
      <li class="ia-menu__item ia-menu__item--index">
        <a href="/fr/index.html"
          title="Retour à l&#39;accueil">Accueil</a>
      </li>
      <li class="ia-menu__item ia-menu__item--index">
        <a href="/fr/blog/index.html"
          title="Retour à l&#39;index du blog"
          class="selected">Blog</a>
      </li>
      <li class="ia-menu__item ia-menu__item--projets">
        <a href="/fr/projets.html"
          title="Découvrez mes divers projets">Projets</a>
      </li>
      <li class="ia-menu__item ia-menu__item--a_propos">
        <a href="/fr/a_propos.html"
          title="Learn more about me">À propos</a>
      </li>
    </ul>
  </nav>

  <section class="ia-main ia-content">
    <div>
    
<article class="ia-main__content">
  

<h2>Conventions de nommage des bases de données</h2>
<p>
  Depuis que j&#039;ai découvert les bases de données avec MySQL, je n&#039;ai
  pas cessé de m&#039;en servir, tant et si bien que j&#039;ai fini par définir
  une convention de nommage.
</p>

<p>
  Je suis actuellement en pleine lecture du livre Bases de données :
  <cite>Concepts, utilisation et développement de Jean-Luc Hainaut</cite>.
  J&#039;en ferai la critique sur ce même blog, pour l&#039;instant mon
  impression est plutôt bonne.
</p>
<p>
  En revanche, il y a une chose qui m&#039;exaspère au plus haut point dans ce
  livre : le manque d&#039;uniformité et de clarté dans les appellations des
  bases et des champs. Tout est en majuscule (argh !), en français (ouch !) et
  les clés primaires auto incrémentées sont nommées comme suit : NCOM, NCLI,
  NPRO. Ce n&#039;est pas vraiment l&#039;idéal.
</p>
<p>
  Au fil de mon utilisation des bases de données, j&#039;ai normalisé ma façon
  de les nommer de manière à ce que l&#039;on puisse facilement comprendre les
  requêtes que je rédige. Je vous livre donc ma méthode afin que les plus
  fainéants d&#039;entre vous n&#039;aient pas à y réflechir, mais simplement à
  l&#039;appliquer.
</p>
<h3>Règles de base</h3>
<p>
  English everywhere. Quel est le sens de nommer ses bases, tables ou champs en
  français alors que :
</p>
<ul>
  <li>la langue des programmeurs est l&#039;anglais;</li>
  <li>
    rien ne dit qu&#039;un projet ne s&#039;internationalisera pas durant son
    cycle de vie ou que l&#039;entreprise ne devienne pas une multinationale
    entre temps;
  </li>
  <li>
    l&#039;anglais est simple, n&#039;a pas d&#039;accents donc pas de source
    d&#039;erreurs du genre : comment savoir si la table
    <code>colles</code> fait référence aux collés du collège du coin ou aux
    tubes de colle en réserve ?
  </li>
  <li>
    Le langage
    <code><abbr title="Structured Query Language">SQL</abbr></code> est en
    anglais, nommer ses tables en français est un curieux mélange des genres,
    nécessitant de switcher de français à anglais en permanence.
  </li>
</ul>
<p>
  Utilisation du snake case (ndr: et non camelCase comme initialement recommandé ici,
  MySQL est sensible à la casse, mais ce n'est pas le cas de PostgreSQL, le snake case
  est donc plus largement utilisable partout).<br />
  Le snake case (ex: <code>an_example_snake_case</code>) rend plus lisible les noms
  des tables en marquant les différents mots qui composent le nom d&#039;une
  table apportant une visibilité qui n&#039;est pas de trop pour les requêtes
  les plus complexes. De plus cette syntaxe est assez naturelle à tout
  programmeur initié à la programmation en C ou en Rust.
</p>
<p>
  Ces deux règles suffisent à savoir comment nommer une base de donnée, pour les
  tables, c&#039;est un peu plus complexe.
</p>
<h3>Nomenclature des tables</h3>
<p>
  Je nomme toutes les tables au pluriel selon un postulat simple : les tables
  sont une liste de lignes. C&#039;est aussi une façon de bien distinguer une
  table d&#039;une table liée. Par exemple, grâce à l&#039;utilisation du
  pluriel, on ne peut pas confondre la table <span>products</span> avec la table
  <span>product_categories</span> ou le champ <span>bill_rows.product</span>.
</p>
<p>
  Seules les tables de jointures peuvent contenir (elles le doivent) deux tirets
  à la suite. Plus précisément l&#039;underscore (tiret sous le 8 sur votre
  clavier). Une table qui associerai des utilisateurs à leurs produits préférés
  se nommerai <code>products__users</code>.
</p>
<p>
  C&#039;est une convention personnelle mais qui peut avoir de
  l&#039;importance : le nom de la table <code>products__users</code> doit être
  composée des deux tables qu&#039;elle référence par ordre alphabétique croissant.
  Cela permet de pouvoir prédire leur nom sans avoir besoin de consulter le schéma
  de la table.
</p>
<h3>Nomenclature des champs</h3>
<p>
  Les champs sont le plus souvent au singulier lorsqu&#039;il ne peuvent
  contenir qu&#039;une valeur. Une exception cependant, les champs de type
  <code>SET</code> qui contiennent un sous ensemble du set de valeurs qu&#039;il
  peuvent contenir (avec PostgreSQL, ce sont les champs de type
  <code>Array</code>).
</p>
<p>
  Cela permet aussi de se poser une question sur le contenu de votre table. Si
  l&#039;un des champs est au pluriel et n&#039;est pas de type
  <code>SET</code>, il y a de fortes présomptions sur le fait que le schéma de
  votre table n&#039;est pas optimal conceptuellement.
</p>
<p>
  Bien entendu, un champs avec une clé étrangère référençant la table
  <code>products</code> sera nommé <code>product</code> si possible.
</p>
<p>
  Enfin, l&#039;identifiant unique quand il se résume à une seule valeur
  auto-incrémentée (90&#37; des cas) sera nommé simplement <code>id</code>.
</p>
<h3>Et au niveau des requêtes ?</h3>
<p>
  En revanche, pour mes requêtes, j&#039;utilise les majuscules, distinguant
  ainsi les parties propres au language des noms des tables et champs. Voici une
  requête créée récemment pour l&#039;export
  <abbr title="Comma Separated Values">CSV</abbr> d&#039;un client:
</p>
<pre>SELECT
  equipments.id AS Id,
  organizations.label AS Client,
  installations.label AS Aire,
  CONCAT_WS(&#039; &#039;, equipment_models.model,
  equipments.precision) AS Jeu
FROM equipments
LEFT JOIN equipment_models
  ON equipments.model = equipment_models.id
LEFT JOIN installations
  ON equipments.installation = installations.id
LEFT JOIN organizations
  ON installations.organization = organizations.id
WHERE equipment_models.model LIKE &#039;&#37;sans réf&#37;&#039;</pre>
<p>
  Voilà pour mes petites règles de bonne conduite SQL ! Et vous, comment
  nommez-vous vos tables ? Que pensez-vous de ces principes ?
</p>

</article>
<nav class="ia-main__back">
  <a href="/fr/blog/index.html"
    title="Blog d&#39;un développeur web à Lille">
    &lt; Blog
  </a>
</nav>

    
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES * * */
      var disqus_shortname = 'insertafter';
      var disqus_config = function () {
        this.language = "fr";
        this.callbacks.onNewComment = [function() {
          ga('send', 'event', 'interaction', 'comment');
        }];
      };

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    
    </div>
  </section>

  <aside class="ia-icons ia-content">
    <nav>
      <a href="https://twitter.com/nfroidure" title="Follow me on Twitter"
        class="ia-social ia-social--twitter">
        <span>Twitter</span>
      </a>
      <a href="https://github.com/nfroidure" title="Follow me on GitHub"
        class="ia-social ia-social--github">
        <span>GitHub</span>
      </a>
      <a href="https://www.npmjs.org/~nfroidure" title="Find NPM modules"
        class="ia-social ia-social--npm">
        <span>NPM</span>
      </a>
      <a href="https://www.linkedin.com/in/nfroidure" title="Find me on LinkedIn"
        class="ia-social ia-social--linkedin">
        <span>LinkedIn</span>
      </a>
      <a href="/fr/blog/index.atom" title="Don't miss my blog posts"
        class="ia-social ia-social--feed">
        <span>ATOM feed</span>
      </a>
    </nav>
  </aside>

  <footer class="ia-footer">
    <p class="ia-footer__content">
      © Nicolas Froidure 2012-2021
    </p>
  </footer>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-21477946-7', 'insertafter.com');
    ga('send', 'pageview');

  </script>
</body>
</html>
